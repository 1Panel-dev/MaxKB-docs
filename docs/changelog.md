## 1 版本说明

!!! Abstract ""
    **版本号说明：** 像其它优秀开源项目一样，MaxKB 将保持每月发布一个新的功能版本，功能版本中如遇较为紧急或严重的 Bug，将及时推出 Bug 修复的小版本。  
    **MaxKB 版本号命名规则为：** v 大版本.功能版本. Bug 修复版本，示例如下：

    - v1.0.1 是 v1.0.0 之后的 Bug 修复版本
    - v1.1.0 是 v1.0.0 之后的功能版本

## 2 更新内容

### v1.4.0

2024 年 07 月 31 日

!!! Abstract "新增功能 :star2:"
    -【知识库】支持创建空知识库。       
    -【知识库】创建和设置知识库时支持选择不同的向量模型进行向量化。    
    -【模型管理】支持添加 OpenAI 、Ollama 和本地的向量模型。      
    -【模型管理】支持把模型权限设置为公用或私有。     
    -【应用】高级编排的指定回复节点支持快捷问题输出：<quick_question>快捷问题</quick_question>。    
    -【应用】支持设置浮窗模式的对话框入口图标。（X-Pack）   
    -【应用】支持自定义对话框的AI回复的头像。（X-Pack）   
    -【应用】支持设置浮窗模式的对话框是否可拖拽位置。（X-Pack）   
    -【应用】支持设置对话框是否显示历史记录。（X-Pack）   
    -【系统设置】支持LDAP单点登录。（X-Pack）      
    -【系统设置】支持自定义主题外观，设置系统的网站 logo、登录 logo、主题色、登录背景图、网站名称、欢迎语等。（X-Pack）     
    -【系统设置】开放系统 API。（X-Pack）   

!!! Abstract "功能优化 :sunflower:"
    -【知识库】优化文档索引流程，提高知识点召回率。   
    -【知识库】调整分段内容最大长度为 10 万个字符。   
    -【应用】调整关联知识库时只能选择使用相同向量模型的知识库。   
    -【应用】显示知识来源调整至显示设置中。   
    -【模型管理】优化模型列表样式。   
    -【关于】优化关于页面显示信息。

!!! Abstract "问题修复 :palm_tree:"
    -【知识库】修复爬取Web网站文档时碰到无法访问页面时中断爬取任务的问题。   
    -【知识库】修复分段详情中关联问题过多时滚动条显示问题。   
    -【模型管理】修复在Ollama供应商有下载中模型时，切换到其他供应商的模型也变为下载中的问题。   
    - 【问答页面】修复回答时若内容中包含代码不展开显示的问题。  
    -【问答页面】修复删除新建对话报错的问题。

   


### v1.3.1

2024 年 07 月 16 日

!!! Abstract "问题修复 :palm_tree:"
    - 【应用概览】打开 API 访问凭据的地址显示 404。     
    - 【应用编排】判断器中删除其中一个条件分支后，再添加条件分支，前端顺序号未更新。      
    - 【应用编排】判断器中的选择变量的滚动条不能拖动。      
    - 【应用编排】执行详情中知识库检索结果的排序不对，未按相似度降序排序。      
    - 【应用编排】指定回复的内容在任务流程中传递会返回空。       
    - 【问答页面】当应用关联的知识库中含有禁用状态的文档时，提问后点换个答案不会换一批命中分段。     
    - 【知识库】在线知识库爬取文档名超过 128 个字符报错。    
 
### v1.3.0

2024 年 07 月 04 日

!!! Abstract "新增功能 :star2:"
    - 【应用】支持创建简易配置和高级编排两种类型的应用，高级编排应用支持自定义工作流。       
    - 【应用】高级编排的应用AI对话节点支持角色设定。    
    - 【应用】高级编排的应用AI对话节点支持自定义设置携带的历史聊天记录数。    
    - 【应用】高级编排的应用支持获取当前时间的系统变量。    
    - 【对话日志】高级编排应用支持查看每个节点的执行详情。            
!!! Abstract "问题修复 :palm_tree:"
    - 【知识库】修复上传QA问答对时阻塞问题。      
    - 【知识库】修复高级分段开启自动清洗后会把所有的换行符去掉的问题。   
    - 【应用】修复提示词输入Json格式的内容时，提问会报错的问题。    


### v1.2.1

2024 年 06 月 14 日

!!! Abstract "新增功能 :star2:"
    - 【问答页面】历史聊天记录支持逻辑删除。        
!!! Abstract "功能优化 :sunflower:"
    - 【问答页面】对话时文本输入框根据输入文本内容自适应高度。    
    - 【应用】最大引用字符数调整为 10 万。    
    - 【应用】对话时问题的最大字符数调整为 10 万。    
    - 【应用】知识来源引用分段为 0 时也可打开详情。       
!!! Abstract "问题修复 :palm_tree:"
    - 【应用】解决应用 API 文档接口调用报错的问题。    
    - 【应用】解决嵌入第三方全屏模式描述错误的问题。    
    - 【知识库】解决导入带有表格样式的 md 文件分段后表格格式丢失的问题。     


### v1.2.0

2024 年 05 月 30 日

!!! Abstract "新增功能 :star2:"
    - 【知识库】支持上传 Excel/CSV 格式的 QA 问答对，自动关联问题。      
    - 【知识库】支持上传 HTML 格式的文本文件。   
    - 【知识库】支持知识库和文档重新向量化操作。   
    - 【知识库】支持导出知识库和文档。   
    - 【问答页面】支持新建对话和查看历史对话。   
    - 【问答页面】支持导出对话记录。  
!!! Abstract "功能优化 :sunflower:"
    - 【应用】显示知识来源的引用分段，支持 markdown 样式显示。     
    - 【应用】提问后模型返回异常信息时也要记录到对话日志中。    
    - 【应用】在对话日志详情中修正答案时，问题可以修改。    
    - 【应用】引用分段数最大值调整为 100 。    
    - 【应用】开场白最大字符数调整为 4096 。    
!!! Abstract "问题修复 :palm_tree:"
    - 【应用】解决开场白中无法显示 markdown 样式的表格。    
    - 【问答页面】解决提问时出现【用户问题】此字段不能为空字符串的问题。    
    - 【知识库】修复删除最后一个分段时报错的问题。     
    - 【知识库】上传 md格式文档，一个分段内容超过 4096 个字符时，上传报错。    
    - 【关于】修复刷新浏览器后不显示版本号的问题。    


### v1.1.3

2024 年 05 月 15 日

!!! Abstract "新增功能 :star2:"

    - 【模型管理】支持对接 Gemini 供应商的模型。  
    - 【模型管理】支持对接 DeepSeek 供应商的模型。    
    - 【模型管理】OpenAI 供应商的基础模型增加 gpt-4o 模型。    
!!! Abstract "功能优化 :sunflower:"
    - 【知识库】文档问题列表的多选框优化增加可点击范围。    
!!! Abstract "问题修复 :palm_tree:"
    - 【知识库】文档删除或迁移分段后，字符数不会重新计算。  
    - 【知识库】批量导入选中将标题添加关联问题,标题为空时报错 。   
    - 【模型管理】Ollama 模型中没有已下载的模型时，在 MaxKB 添加 Ollama 模型报错。   
    - 【模型管理】添加模型时，上次的表单未清空。#378

### v1.1.2

2024 年 05 月 10 日

!!! Abstract "新增功能 :star2:"

    - 【知识库】上传文档时支持将标题添加为关联问题（适用标题是问题的问答对）。   
    - 【知识库】支持分段迁移和批量迁移。   
    - 【知识库】支持分段批量删除。  
    - 【知识库】文档直接回答时支持相似度设置。   
    - 【应用】 新增 API Key 跨域的设置。    
!!! Abstract "功能优化 :sunflower:"
    - 【知识库】上传文档的分段预览优化为懒加载方式，避免数据量大时浏览器崩溃。
!!! Abstract "问题修复 :palm_tree:"
    - 【知识库】修复文档改名无法点击保存的问题。   
    - 【知识库】修复导入文档时在特殊情况下导入失败。   
    - 【用户管理】修复在创建新用户时，用户名含有 0 时校验不通过的问题。   
    - 【UI】修复ui文件打包报错的问题。


### v1.1.1

2024 年 04 月 30 日
!!! Abstract "功能优化 :sunflower:"
    - 【知识库】上传文档的超时时间延长为 1 小时。   
!!! Abstract "问题修复 :palm_tree:"
    - 【应用】修复未选择AI 模型时，开启问题优化提问报错的问题。   
    - 【应用】修复未选择AI 模型时，开启多轮对话报错的问题。
    - 【知识库】修复文档上传失败时，点击重试按钮无效的问题。
    - 【知识库】修复相同类型的知识库直接文档无法迁移的问题。   


### v1.1.0

2024 年 04 月 29 日

!!! Abstract "新增功能 :star2:"
    - 【知识库】新增全文检索和混合检索两种检索模式。   
    - 【知识库】新增命中处理方式设置，支持设置文档下的分段命中后可直接返回分段内容，也可让模型优化后返回答案。   
    - 【知识库】新增文档迁移知识库功能。    
    - 【知识库】上传word文档、添加/编辑分段内容时支持上传本地图片。     
    - 【应用】当用户提问题时，若无引用知识库内容，可指定回复内容。    
    - 【应用】新增用户问答页面显示知识来源设置。    
    - 【应用】支持自定义应用的 logo，用户端浏览器标签显示自定义 logo和应用名称。       

!!! Abstract "功能优化 :sunflower:"
    - 【应用】创建/编辑应用时支持不选择模型。     
    - 【问答页面】 AI 回答时优化流式输出，加快数据展示。   
    - 【搜索框】搜索框可以支持一键清除搜索条件。    
    - 【模型管理】添加模型表单优化提示语。   

!!! Abstract "问题修复 :palm_tree:"
    - 【应用】修复对话日志详情不按时间排序的问题。      
    - 【应用】修复问答页面提问达到最大限制的时候返回内容重复。    
    - 【应用】修复离线环境提问后由于获取不到 tokens 数导致回答有报错内容的问题。    
    - 【应用】修复修改应用信息保存时会导致问答页面进入 404 的问题。     
    - 【模型管理】API Key 字符长度过长时，添加模型报错。   
    - 【问答页面】问题过长时，AI 回答后会有报错信息。    

### v1.0.4

2024 年 04 月 19 日

!!! Abstract "新增功能 :star2:"
    - 【模型管理】支持对接智谱 AI 开发放平台的通用大模型。   
    - 【模型管理】支持对接讯飞星火大模型。    


!!! Abstract "功能优化 :sunflower:"
    - 【登录】当前用户使用默认密码登录后需要先修改密码。   
    - 【应用】对话日志详情修正答案保存分段时，知识库和文档支持搜索。   


### v1.0.3

2024 年 04 月 18 日

!!! Abstract "新增功能 :star2:"
    - 【知识库】上传文档支持选择文件夹。      
    - 【模型管理】兼容对接OpenAI 格式的模型。    
    - 【模型管理】支持对接通义千问的大模型。   
    - 【模型管理】支持对接Kimi大模型。      

!!! Abstract "功能优化 :sunflower:"
    - 【问答页面】优化AI 输出答案的效率。
    - 【命中测试】优化未命中分段时的提示内容。

### v1.0.2

2024 年 04 月 17 日


!!! Abstract "功能优化 :sunflower:"

    - 【知识库】在分段中添加关联问题时，当问题比较长时下拉组件显示不美观。     

!!! Abstract "问题修复 :palm_tree:"

    - 【知识库】修复文本文件中存在空字符（\0）时，上传文档报错。   
    - 【知识库】在问题中关联分段，当文档为空时搜索分段标题会。  
    - 【应用】修复问答页面用户提问时，只输入空格提问后回答错位的问题。  
    - 【应用】问答页面在回答中...时，点击停止回答不生效。    

### v1.0.1

2024 年 04 月 15 日


!!! Abstract "功能优化 :sunflower:"

    -【知识库】文档列表、分段标题、分段内容、问题列表查询时大小写不敏感。   

!!! Abstract "问题修复 :palm_tree:"

    - 【知识库】修复整体同步知识库报错。 
    - 【知识库】修复添加分段时关联问题报错。  
    - 【知识库】文档列表为空时，在问题列表点击关联分段会404。   
    - 【应用】修复在应用的命中测试点击分段内容报没有权限访问的问题。    


### v1.0.0

2024 年 04 月 11 日


!!! Abstract "新增功能 :star2:"
    - 【知识库】支持上传 DOCX、PDF 格式的文档。     
    - 【知识库】新增问题库，支持把用户的问题梳理到问题库，关联文档中的分段，从而能更精确的匹配到相关知识点。     
    - 【应用】新增用量统计功能，针对每个应用支持统计提问用户数据、新增提问用户数、提问数、 消费Tokens数和用户满意度。      
    - 【应用】对话日志支持导出。
    - 【模型管理】支持对接 OpenAI 模型。   

!!! Abstract "功能优化 :sunflower:"

    - 【应用】概览中重新生成公开访问链接会导致嵌入第三方脚本失效，增加确认提示。   
    - 【应用】浮窗模式嵌入第三方的入口 logo 更新。
    - 【知识库】文档分段详情页面点击返回时，保留分页信息。
    - 【知识库】上传的文档限制调整为 100MB。

!!! Abstract "问题修复 :palm_tree:"

    - 【知识库】修复获取在线知识库的更新日志内容为乱码的问题。
    - 【知识库】修复创建知识库后，进入设置页面无法修改知识库的问题。
    - 【知识库】修复上传不支持格式的文档报错的问题。
    - 【应用】修复开启问题优化后，优化后的问题返回为空字符串时未处理的问题。
    - 【应用】修复从对话日志详情中添加标注内容报错的问题。
    - 【应用】修复浮窗模式的 放大按钮与关闭按钮未对齐。
    - 【用户管理】修复创建用户时登录密码使用默认密码MaxKB@123.. 提示规则不对。

### v0.9.1

2024 年 03 月 27 日


!!! Abstract "新增功能 :star2:"
    - 【模型管理】Ollama 供应商添加/修改模型时支持自动下载。 
    - 【关于】增加显示项目地址、用户手册、论坛求助入口。 

!!! Abstract "功能优化 :sunflower:"
    - 【模型管理】Azure OpenAI 的基础模型支持自定义设置，自定义时需要填写 api-version。
    - 【模型管理】千帆大模型的基础模型支持自定义输入官方标准的大模型（非自行部署）。

!!! Abstract "问题修复 :palm_tree:"

    - 【应用】问答提问时同一时间限制只能发出一个快捷问题。   
    - 【应用】修复问题优化开启后大模型未返回优化结果时的报错问题。     
    - 【知识库】修复上传的 TXT 文档编码格式问题导致内容为空的问题。   
    - 【知识库】修复文档列表勾选文档后会自动取消的问题。
    - 【用户管理】修复删除用户报错。
    - 【用户管理】编辑用户禁止修改用户名。
    - 【用户管理】修复禁用用户可以登录。
    - 【用户管理】修改用户姓名超过长度时错误提示不对。
    - 【用户管理】修复无法修改 admin 用户信息的问题。     
    - 【用户管理】修复修改用户状态后用户位置变动的问题。


### v0.9.0

2024 年 03 月 20 日


!!! Abstract "新增功能 :star2:"

    - **开箱即用**：支持直接上传文档、自动爬取在线文档，支持文本自动拆分、向量化、RAG（检索增强生成），智能问答交互体验好；  
    - **无缝嵌入**：支持零编码快速嵌入到第三方业务系统，让已有系统快速拥有智能问答能力，提高用户满意度；    
    - **多模型支持**：支持Ollama、百度千帆大模型和 Azure OpenAI 的大语言模型。
